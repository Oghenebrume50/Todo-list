!function(t){var e={};function o(n){if(e[n])return e[n].exports;var d=e[n]={i:n,l:!1,exports:{}};return t[n].call(d.exports,d,d.exports,o),d.l=!0,d.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var d in t)o.d(n,d,function(e){return t[e]}.bind(null,d));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);var n=(()=>{const t=window.localStorage;function e(e,o){t.setItem(e,JSON.stringify(o))}function o(e){return JSON.parse(t.getItem(e))}return{createProject:function(t){e(t,{todos:[],name:t})},addTodo:function(t,n){const d=o(t),c=d.todos.length+1;d.todos.push({id:c,...n}),e(t,d)},deleteTodo:function(t,n){const d=o(t);d.todos.splice(n,1),e(t,d)},getProject:o,getTodo:function(t,e){return o(t).todos.slice(e,e+1)[0]},editTodo:function(t,n,d){const c=o(t);c.todos.splice(n,1,d),e(t,c)}}})();var d={createTodo:function(t,e,o,n,d){return function(t,e,o,n,d){let c=n,i=d;return{title:t,description:e,dueDate:o,todoPriority:c,todoStatus:i,changePriority:t=>{c=t},changeStatus:t=>{i=t}}}(t,e,o,n,d)}};let c="default project",i="project-1",r=0,l="";function u(){document.getElementById("project-title").innerText=c}function s(){const t=document.getElementById("projects-list");u();for(let e=0;e<window.localStorage.length;e+=1)t.innerHTML+=` <button id="project-${e+1}" class="project-button">\n    ${window.localStorage.key(e)}</button>`}function a(){const t=this.parentElement.id,e=document.getElementById(i);n.deleteTodo(c,Number(t.slice(t.length-1))),y.call(e)}function m(){const t=this.parentElement.id,e=document.querySelector(`#${t} .description-container`);r?(r=0,e.classList.remove("show"),e.classList.add("hide")):(r=1,e.classList.remove("hide"),e.classList.add("show"))}function g(){const t=document.getElementById("edit-todo-form");l=Number(this.id.slice(this.id.length-1));const e=n.getTodo(c,l),{title:o,description:d,dueDate:i,todoPriority:r,todoStatus:u}=e;!function(t,e,o,n,d){document.getElementById("edit-todo-title").value=t,document.getElementById("edit-todo-desc").value=e,document.getElementById("edit-todo-due-date").value=o,document.getElementById("edit-todo-priority").value=n,document.getElementById("edit-todo-done").checked=d}(o,d,i,r,u),t.classList.remove("todo-form-hide"),t.classList.add("todo-form-show")}function f(){const t=document.getElementById("project-todos");u();const e=n.getProject(c);t.innerHTML="";for(let o=0;o<e.todos.length;o+=1){t.innerHTML+=`<div class="todo-item" id="todo-item-${o}">\n    <button class="todo-item-button ${"high"===e.todos[o].todoPriority?" high-priority":""}" \n    id="todo-btn-${o}">\n    ${e.todos[o].title}</button>\n    <span>Due: ${e.todos[o].dueDate}</span>\n    <button class="btn-warning" id="todo-edit-btn-${o}">Edit</button> |\n    <button class="btn-danger" id="todo-del-btn-${o}">Delete</button>\n    <div class="description-container hide">\n      <p>\n        ${e.todos[o].description}\n      </p>\n    </div>\n    <hr />\n  </div>\n  `;const n=document.getElementById(`todo-btn-${o}`);!0===e.todos[o].todoStatus&&(n.classList.remove("high-priority"),n.classList.add("done-task"))}}function y(){const t=document.getElementById(this.id);c=t.innerText,i=this.id,f();const e=n.getProject(c);for(let t=0;t<e.todos.length;t+=1){const e=document.querySelector(`#todo-del-btn-${t}`),o=document.querySelector(`#todo-btn-${t}`);document.querySelector(`#todo-edit-btn-${t}`).addEventListener("click",g),e.addEventListener("click",a),o.addEventListener("click",m)}}function E(){const t=document.getElementById("add-todo-form");document.getElementById("todo-title").value="",document.getElementById("todo-desc").value="",document.getElementById("todo-due-date").value="",document.getElementById("todo-priority").value="",document.getElementById("todo-done").checked=!1,t.classList.remove("todo-form-hide"),t.classList.add("todo-form-show")}function p(){const t=document.getElementById("edit-todo-form"),e=document.getElementById(i),o={title:document.getElementById("edit-todo-title").value,description:document.getElementById("edit-todo-desc").value,dueDate:document.getElementById("edit-todo-due-date").value,todoPriority:document.getElementById("edit-todo-priority").value,todoStatus:document.getElementById("edit-todo-done").checked};n.editTodo(c,l,o),y.call(e),t.classList.remove("todo-form-show"),t.classList.add("todo-form-hide")}function v(){document.getElementById("submit-project").addEventListener("click",()=>{const t=document.getElementById("project-name").value;n.createProject(t),s()}),[...document.getElementById("projects-list").children].forEach(t=>{t.addEventListener("click",y)})}function h(){const t=[...document.getElementById("project-todos").children];for(let e=0;e<t.length;e+=1){document.getElementById(`todo-btn-${e}`).addEventListener("click",m)}}function I(){const t=[...document.getElementById("project-todos").children];for(let e=0;e<t.length;e+=1){document.querySelector(`#todo-del-btn-${e}`).addEventListener("click",a)}}function B(){const t=[...document.getElementById("project-todos").children];for(let e=0;e<t.length;e+=1){document.querySelector(`#todo-edit-btn-${e}`).addEventListener("click",g)}document.getElementById("submit-edit-todo-button").addEventListener("click",p)}function b(){h(),I(),B();const t=document.getElementById("add-new-todo"),e=document.getElementById("add-todo-button");t.addEventListener("click",E),e.addEventListener("click",()=>{!function(){const t=document.getElementById(i),e=document.getElementById("add-todo-form"),o=document.getElementById("todo-title").value,r=document.getElementById("todo-desc").value,l=document.getElementById("todo-due-date").value,u=document.getElementById("todo-priority").value,s=document.getElementById("todo-done").checked,a=d.createTodo(o,r,l,u,s);n.addTodo(c,a),e.classList.remove("todo-form-show"),e.classList.add("todo-form-hide"),y.call(t)}(),h(),I(),B()})}window.addEventListener("DOMContentLoaded",()=>{0===window.localStorage.length&&n.createProject("default project"),s(),f(),v(),b()})}]);